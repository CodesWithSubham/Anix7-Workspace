(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[2374],{3314:(e,s,t)=>{"use strict";t.d(s,{o:()=>n,z:()=>r});var l=t(5942),a=t(5026);function n(e){let{className:s="",...t}=e;return(0,l.jsxs)("svg",{stroke:"currentColor",fill:"currentColor",strokeWidth:"0",viewBox:"0 0 512 512",className:(0,a.QP)("",s),xmlns:"http://www.w3.org/2000/svg",...t,children:[(0,l.jsx)("rect",{width:"416",height:"352",x:"48",y:"80",fill:"none",strokeLinejoin:"round",strokeWidth:"32",rx:"48",ry:"48"}),(0,l.jsx)("circle",{cx:"336",cy:"176",r:"32",fill:"none",strokeMiterlimit:"10",strokeWidth:"32"}),(0,l.jsx)("path",{fill:"none",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"32",d:"m304 335.79-90.66-90.49a32 32 0 0 0-43.87-1.3L48 352m176 80 123.34-123.34a32 32 0 0 1 43.11-2L464 368"})]})}function r(e){let{className:s="",...t}=e;return(0,l.jsx)("svg",{viewBox:"0 0 24 24",className:(0,a.QP)("line",s),xmlns:"http://www.w3.org/2000/svg",...t,children:(0,l.jsxs)("g",{transform:"translate(2.000000, 2.000000)",children:[(0,l.jsx)("path",{className:"svgC",d:"M4.0706,14.459 C4.0706,14.459 4.8826,12.822 6.0646,12.822 C7.2466,12.822 7.8506,14.197 9.1606,14.197 C10.4696,14.197 11.9386,10.749 13.4226,10.749 C14.9046,10.749 15.9706,13.14 15.9706,13.14"}),(0,l.jsx)("path",{className:"svgC",d:"M8.1393,7.1049 C8.1393,7.9649 7.4423,8.6629 6.5813,8.6629 C5.7213,8.6629 5.0243,7.9649 5.0243,7.1049 C5.0243,6.2449 5.7213,5.5469 6.5813,5.5469 C7.4423,5.5479 8.1393,6.2449 8.1393,7.1049 Z"}),(0,l.jsx)("path",{d:"M0.7503,10.0001 C0.7503,16.9371 3.0633,19.2501 10.0003,19.2501 C16.9373,19.2501 19.2503,16.9371 19.2503,10.0001 C19.2503,3.0631 16.9373,0.7501 10.0003,0.7501 C3.0633,0.7501 0.7503,3.0631 0.7503,10.0001 Z"})]})})}},3893:(e,s,t)=>{"use strict";t.d(s,{IfLoggedIn:()=>n,IfLoggedOut:()=>r});var l=t(5942),a=t(3341);function n(e){let{children:s}=e,{data:t,status:n}=(0,a.wV)();return"loading"!==n&&t?(0,l.jsx)(l.Fragment,{children:s}):null}function r(e){let{children:s}=e,{data:t,status:n}=(0,a.wV)();return"loading"===n||t?null:(0,l.jsx)(l.Fragment,{children:s})}},4923:(e,s,t)=>{"use strict";t.d(s,{default:()=>g});var l=t(5942),a=t(5888),n=t(4166),r=t(9361),o=t(3729),i=t(6363),d=t(4697),c=t(3314),h=t(5026);function m(e){let{className:s="",...t}=e;return(0,l.jsxs)("svg",{stroke:"currentColor",fill:"currentColor",strokeWidth:"0",viewBox:"0 0 512 512",className:(0,h.QP)("",s),xmlns:"http://www.w3.org/2000/svg",...t,children:[(0,l.jsx)("path",{fill:"none",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"32",d:"M320 367.79h76c55 0 100-29.21 100-83.6s-53-81.47-96-83.6c-8.89-85.06-71-136.8-144-136.8-69 0-113.44 45.79-128 91.2-60 5.7-112 43.88-112 106.4s54 106.4 120 106.4h56"}),(0,l.jsx)("path",{fill:"none",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"32",d:"m320 255.79-64-64-64 64m64 192.42V207.79"})]})}var u=t(5288);function g(){let[e,s]=(0,n.useState)(null),[t,h]=(0,n.useState)(null),[g,x]=(0,n.useState)(!1),[p,f]=(0,n.useState)(null),[j,v]=(0,n.useState)(null),[w,k]=(0,n.useState)(""),C=async()=>{if(!e)return void k("No image selected");x(!0),k("");try{let s=window.crypto.randomUUID(),t=await (0,o.Se)(e.name,e,{access:"public",handleUploadUrl:"/api/tools/ImageIndex/upload/blob",clientPayload:{id:s}}),l=await fetch("/api/tools/ImageIndex/upload/byBlob",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({image:t.url,name:e.name})}),a=await l.json();if(!a.success)return void r.oR.error(a.error||"Upload failed");console.log(t),f(a.imageUrl)}catch(e){console.log(e),r.oR.error("Failed to upload image")}finally{x(!1)}};return(0,l.jsxs)("div",{className:"flex flex-col items-center justify-center p-6",children:[(0,l.jsx)("h1",{className:"text-2xl font-bold mb-4",children:"Image Uploader"}),(0,l.jsx)("input",{type:"file",accept:"image/*",onChange:e=>{let t=e.target.files[0];if(t){if(f(null),!["image/jpeg","image/jpg","image/png","image/gif","image/apng","image/tiff"].includes(t.type)){k("Only JPG, JPEG, PNG, GIF, APNG, TIFF allowed"),s(null),h(null);return}if(t.size>0xa00000){k("File size must be less than 10MB"),s(null),h(null);return}k(""),s(t),h(URL.createObjectURL(t))}},className:"hidden",id:"image",disabled:g}),(0,l.jsxs)(i.$,{htmlFor:"image",as:"label",disabled:g,svg:(0,l.jsx)(c.o,{}),children:[p?"Upload Another":e?"Change":"Choose"," Image"]}),w&&(0,l.jsx)("p",{className:"text-red-500",children:w}),t&&(0,l.jsxs)("div",{className:"mt-4",children:[(0,l.jsx)(a.default,{src:t,width:320,height:320,alt:"Uploaded",className:"w-11/12 max-w-lg mx-auto rounded-sm shadow-sm"}),p&&(0,l.jsx)(d.e2,{value:p,className:"w-5/6 max-w-lg mx-auto"})]}),!p&&e&&!w&&(0,l.jsx)(i.$,{onClick:C,className:"flex flex-col justify-center items-center gap-2 mt-4 ",disabled:g,loading:g,loadingText:"Uploading...",svg:(0,l.jsx)(m,{}),children:"Upload Image"}),(0,l.jsx)("div",{className:"w-full h-px bg-gray-300 dark:bg-gray-700 my-5 "}),(0,l.jsx)(i.$,{href:"/image-uploading/my-uploads",svg:(0,l.jsx)(u.Y,{}),children:"My Uploads"})]})}},5288:(e,s,t)=>{"use strict";t.d(s,{Y:()=>n,f:()=>r});var l=t(5942),a=t(5026);function n(e){let{className:s="",...t}=e;return(0,l.jsxs)("svg",{stroke:"currentColor",fill:"currentColor",strokeWidth:"0",viewBox:"0 0 512 512",className:s,xmlns:"http://www.w3.org/2000/svg",...t,children:[(0,l.jsx)("path",{fill:"none",strokeLinejoin:"round",strokeWidth:"32",d:"M416 221.25V416a48 48 0 0 1-48 48H144a48 48 0 0 1-48-48V96a48 48 0 0 1 48-48h98.75a32 32 0 0 1 22.62 9.37l141.26 141.26a32 32 0 0 1 9.37 22.62z"}),(0,l.jsx)("path",{fill:"none",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"32",d:"M256 56v120a32 32 0 0 0 32 32h120m-232 80h160m-160 80h160"})]})}function r(e){let{className:s="",...t}=e;return(0,l.jsxs)("svg",{version:"1.1",viewBox:"0 0 32 32",className:(0,a.QP)("line",s),xmlns:"http://www.w3.org/2000/svg",...t,children:[(0,l.jsx)("path",{d:"M22.2 2.9v11.4h-.3l-4.5.7v7c0 2.8 1.6 6.4 4 8.1l.2.2c-.3.4-.8.6-1.4.6H2.9A2 2 0 0 1 1 29V3c0-1.1.8-2 1.9-2h17.4c1 0 1.9.9 1.9 1.9zM3.8 5.1h6m-6 4.3h10.7M3.8 13.7h10.7m.1 4.3H3.8m10.8 4.3H3.8m-.2 4.3h11"}),(0,l.jsx)("path",{className:"svgC",d:"M31 15v7c0 3.8-3.1 9-6.8 9a5 5 0 0 1-2.8-1c-2.4-1.7-4-5.2-4-8.1V15l4.4-.7L24 14l7 1z"}),(0,l.jsx)("path",{d:"m21.3 23.3 1.4 1.4 4.4-4.4"})]})}},9705:(e,s,t)=>{Promise.resolve().then(t.bind(t,4923)),Promise.resolve().then(t.t.bind(t,535,23)),Promise.resolve().then(t.t.bind(t,6912,23)),Promise.resolve().then(t.bind(t,3893)),Promise.resolve().then(t.bind(t,3972))}},e=>{var s=s=>e(e.s=s);e.O(0,[535,6912,5026,9361,3341,3415,90,3449,2681,7358],()=>s(9705)),_N_E=e.O()}]);