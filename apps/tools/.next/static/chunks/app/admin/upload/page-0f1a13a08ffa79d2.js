(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[6798],{4178:(e,a,t)=>{Promise.resolve().then(t.bind(t,7105))},7105:(e,a,t)=>{"use strict";t.r(a),t.d(a,{default:()=>s});var l=t(5942),r=t(4166);function s(){let[e,a]=(0,r.useState)({title:"",taskCat:"",desc:"",url:""}),[t,s]=(0,r.useState)(null),u=async l=>{if(l.preventDefault(),!t)return void alert("Please select an image.");let r=new FormData;r.append("title",e.title),r.append("taskCat",e.taskCat),r.append("desc",e.desc),r.append("url",e.url),r.append("image",t);try{let e=await fetch("/api/uploadTask",{method:"POST",body:r}),t=await e.json();t.success?(alert("Task uploaded successfully"),a({title:"",taskCat:"",desc:"",url:""}),s(null)):alert(t.error||"Error uploading task")}catch(e){console.error("Error uploading task:",e),alert("An error occurred while uploading the task.")}};return(0,l.jsxs)("div",{className:"mx-auto w-[90vw] px-4 rounded-sm text-center mt-[-40px]",children:[(0,l.jsx)("h1",{className:"mb-6 text-3xl font-bold",children:"Upload Tasks"}),(0,l.jsxs)("form",{onSubmit:u,children:[(0,l.jsx)("input",{type:"text",value:e.title,onChange:t=>a({...e,title:t.target.value}),placeholder:"Task Title",className:"w-full px-3 py-2 mb-3 rounded-full border-2 border-gray-300 focus:outline-hidden focus:border-blue-500 bg-transparent"}),(0,l.jsx)("input",{type:"text",value:e.taskCat,onChange:t=>a({...e,taskCat:t.target.value}),placeholder:"Category",className:"w-full px-3 py-2 mb-3 rounded-full border-2 border-gray-300 focus:outline-hidden focus:border-blue-500 bg-transparent"}),(0,l.jsx)("textarea",{value:e.desc,onChange:t=>a({...e,desc:t.target.value}),placeholder:"Description",className:"w-full h-20 px-3 py-2 mb-3 rounded-full border-2 border-gray-300 focus:outline-hidden focus:border-blue-500 bg-transparent"}),(0,l.jsx)("input",{type:"url",value:e.url,onChange:t=>a({...e,url:t.target.value}),placeholder:"Task URL",className:"w-full px-3 py-2 mb-3 rounded-full border-2 border-gray-300 focus:outline-hidden focus:border-blue-500 bg-transparent"}),(0,l.jsx)("input",{type:"file",accept:"image/*",onChange:e=>s(e.target.files[0]),className:"w-full px-3 py-2 mb-3 rounded-full border-2 border-gray-300 focus:outline-hidden focus:border-blue-500 bg-transparent"}),(0,l.jsx)("button",{type:"submit",className:"w-full px-3 py-2 mb-3 rounded-full outline-hidden bg-blue-700 hover:bg-blue-800",children:"Upload Task"})]})]})}}},e=>{var a=a=>e(e.s=a);e.O(0,[3449,2681,7358],()=>a(4178)),_N_E=e.O()}]);