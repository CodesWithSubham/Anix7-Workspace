(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[6026],{1320:(e,t,a)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),!function(e,t){for(var a in t)Object.defineProperty(e,a,{enumerable:!0,get:t[a]})}(t,{default:function(){return i},getImageProps:function(){return n}});let l=a(5400),r=a(8172),s=a(6912),o=l._(a(392));function n(e){let{props:t}=(0,r.getImgProps)(e,{defaultLoader:o.default,imgConf:{deviceSizes:[640,750,828,1080,1200,1920,2048,3840],imageSizes:[16,32,48,64,96,128,256,384],path:"/_next/image",loader:"default",dangerouslyAllowSVG:!1,unoptimized:!1}});for(let[e,a]of Object.entries(t))void 0===a&&delete t[e];return{props:t}}let i=s.Image},1453:(e,t,a)=>{"use strict";a.d(t,{A:()=>c});var l=a(5942),r=a(4166),s=function(){return(s=Object.assign||function(e){for(var t,a=1,l=arguments.length;a<l;a++)for(var r in t=arguments[a])Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e}).apply(this,arguments)},o=function(e){var t=e.animate,a=e.backgroundColor,l=void 0===a?"#f5f6f7":a,o=e.backgroundOpacity,n=void 0===o?1:o,i=e.baseUrl,c=void 0===i?"":i,d=e.children,u=e.foregroundColor,h=e.foregroundOpacity,m=e.gradientRatio,x=void 0===m?2:m,f=e.uniqueKey,p=e.rtl,g=e.speed,v=e.style,y=e.title,j=void 0===y?"Loading...":y,b=e.beforeMask,w=void 0===b?null:b,C=function(e,t){var a={};for(var l in e)Object.prototype.hasOwnProperty.call(e,l)&&0>t.indexOf(l)&&(a[l]=e[l]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols)for(var r=0,l=Object.getOwnPropertySymbols(e);r<l.length;r++)0>t.indexOf(l[r])&&Object.prototype.propertyIsEnumerable.call(e,l[r])&&(a[l[r]]=e[l[r]]);return a}(e,["animate","backgroundColor","backgroundOpacity","baseUrl","children","foregroundColor","foregroundOpacity","gradientRatio","uniqueKey","rtl","speed","style","title","beforeMask"]),k=f||Math.random().toString(36).substring(6),N="".concat(k,"-diff"),E="".concat(k,"-animated-diff"),O="".concat(k,"-aria"),L="".concat(-1*x," 0");return(0,r.createElement)("svg",s({"aria-labelledby":O,role:"img",style:s(s({},void 0===v?{}:v),void 0!==p&&p?{transform:"scaleX(-1)"}:null)},C),j?(0,r.createElement)("title",{id:O},j):null,w&&(0,r.isValidElement)(w)?w:null,(0,r.createElement)("rect",{role:"presentation",x:"0",y:"0",width:"100%",height:"100%",clipPath:"url(".concat(c,"#").concat(N,")"),style:{fill:"url(".concat(c,"#").concat(E,")")}}),(0,r.createElement)("defs",null,(0,r.createElement)("clipPath",{id:N},d),(0,r.createElement)("linearGradient",{id:E,gradientTransform:"translate(".concat(L,")")},(0,r.createElement)("stop",{offset:"0%",stopColor:l,stopOpacity:n}),(0,r.createElement)("stop",{offset:"50%",stopColor:void 0===u?"#eee":u,stopOpacity:void 0===h?1:h}),(0,r.createElement)("stop",{offset:"100%",stopColor:l,stopOpacity:n}),(void 0===t||t)&&(0,r.createElement)("animateTransform",{attributeName:"gradientTransform",type:"translate",values:"".concat(L,"; 0 0; ").concat("".concat(x," 0")),dur:"".concat(void 0===g?1.2:g,"s"),repeatCount:"indefinite"}))))},n=function(e){return e.children?(0,r.createElement)(o,s({},e)):(0,r.createElement)(i,s({},e))},i=function(e){return(0,r.createElement)(n,s({viewBox:"0 0 476 124"},e),(0,r.createElement)("rect",{x:"48",y:"8",width:"88",height:"6",rx:"3"}),(0,r.createElement)("rect",{x:"48",y:"26",width:"52",height:"6",rx:"3"}),(0,r.createElement)("rect",{x:"0",y:"56",width:"410",height:"6",rx:"3"}),(0,r.createElement)("rect",{x:"0",y:"72",width:"380",height:"6",rx:"3"}),(0,r.createElement)("rect",{x:"0",y:"88",width:"178",height:"6",rx:"3"}),(0,r.createElement)("circle",{cx:"20",cy:"20",r:"20"}))};let c=e=>(0,l.jsxs)(n,{viewBox:"0 0 500 500",height:200,width:200,backgroundColor:"var(--waveB)",foregroundColor:"var(--linkC)",...e,children:[(0,l.jsx)("path",{d:"M484.52,64.61H15.65C7.1,64.61.17,71.2.17,79.31V299.82c0,8.12,6.93,14.7,15.48,14.7H484.52c8.55,0,15.48-6.58,15.48-14.7V79.31C500,71.2,493.07,64.61,484.52,64.61Zm-9,204.34c0,11.84-7.14,21.44-15.94,21.44H436.39L359.16,171.52c-7.1-10.92-19.67-11.16-27-.51L258.64,277.94C253.78,285,245.73,286,240,280.2l-79.75-80.62c-6-6.06-14.33-5.7-20,.88L62.34,290.39H40.63c-8.8,0-15.94-9.6-15.94-21.44V110.19c0-11.84,7.14-21.44,15.94-21.44H459.54c8.8,0,15.94,9.6,15.94,21.44Z"}),(0,l.jsx)("ellipse",{cx:"120",cy:"140",rx:"28",ry:"28"}),(0,l.jsx)("rect",{x:"5",y:"345",width:"490",height:"30",rx:"3.83"}),(0,l.jsx)("rect",{x:"5",y:"395",width:"490",height:"30",rx:"3.83"})]})},5888:(e,t,a)=>{"use strict";a.d(t,{default:()=>r.a});var l=a(1320),r=a.n(l)},7938:(e,t,a)=>{Promise.resolve().then(a.bind(a,8230))},8230:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>m});var l=a(5942),r=a(3972),s=a(6363),o=a(4697),n=a(1453),i=a(3341),c=a(5888),d=a(4166),u=a(9361);function h(e){let{className:t="",...a}=e;return(0,l.jsx)("svg",{viewBox:"0 0 24 24",className:t,xmlns:"http://www.w3.org/2000/svg",...a,children:(0,l.jsx)("path",{fill:"currentColor",d:"M19.164 19.547c-1.641-2.5-3.669-3.285-6.164-3.484v1.437c0 .534-.208 1.036-.586 1.414-.756.756-2.077.751-2.823.005l-6.293-6.207c-.191-.189-.298-.444-.298-.713s.107-.524.298-.712l6.288-6.203c.754-.755 2.073-.756 2.829.001.377.378.585.88.585 1.414v1.704c4.619.933 8 4.997 8 9.796v1c0 .442-.29.832-.714.958-.095.027-.19.042-.286.042-.331 0-.646-.165-.836-.452zm-7.141-5.536c2.207.056 4.638.394 6.758 2.121-.768-3.216-3.477-5.702-6.893-6.08-.504-.056-.888-.052-.888-.052v-3.497l-5.576 5.496 5.576 5.5v-3.499l1.023.011z"})})}function m(){var e,t;let{data:a}=(0,i.wV)(),[m,x]=(0,d.useState)(1),[f,p]=(0,d.useState)([]),[g,v]=(0,d.useState)(0),[y,j]=(0,d.useState)(""),[b,w]=(0,d.useState)(""),[C,k]=(0,d.useState)(!0),[N,E]=(0,d.useState)(!1),[O,L]=(0,d.useState)(!1);(0,d.useEffect)(()=>{L(!0)},[]),(0,d.useEffect)(()=>{(async e=>{if(!f[e-1]){k(!0);try{let t=await fetch("/api/tools/ImageIndex/getAllByUser",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({page:e})}),a=await t.json();if(null==a?void 0:a.success){let e=a.results;p(t=>{let a=[...t];return a[m-1]=e.images,a}),v(e.totalImagesCount),j(e.IMGUR_IMAGE_URL),w(e.IMAGE_INDEX_URL)}else u.oR.error("Something went wrong!")}catch(e){u.oR.error("Failed to fetch URLs."),console.error(e)}finally{k(!1)}}})(m)},[f,m]);let M=async(e,t)=>{E(!0);try{let a=await fetch("/api/tools/ImageIndex/modifyAds",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({alias:e,ad:t})}),l=await a.json();(null==l?void 0:l.success)?(p(a=>a[m-1]?a.map((a,l)=>l===m-1?a.map(a=>a.alias===e?{...a,adsLabel:t}:a):a):a),u.oR.success(l.message||"Ads updated successfully")):u.oR.error(l.message||"Something went wrong!")}catch(e){u.oR.error("Failed to update."),console.error(e)}finally{E(!1)}},[S,Z]=(0,d.useState)(!1),[I,B]=(0,d.useState)(null),[H,P]=(0,d.useState)(!1),R=e=>{B(e),Z(!0)},U=()=>{Z(!1),B(null)},_=async()=>{if(null==I?void 0:I.alias){P(!0);try{let e=await fetch("/api/tools/ImageIndex/delete",{method:"DELETE",headers:{"Content-Type":"application/json"},body:JSON.stringify({alias:I.alias})}),t=await e.json();(null==t?void 0:t.success)?(u.oR.success(t.message),p(e=>e.slice(0,m-1))):u.oR.error(t.error||"Failed to delete URL.")}catch(e){u.oR.error(e.message||"Error deleting image."),console.error("Delete Error:",e)}finally{P(!1),U()}}};return(0,l.jsxs)(l.Fragment,{children:[(0,l.jsxs)(s.$,{href:"/image-uploading",children:[(0,l.jsx)(h,{}),"Back to Image Upload"]}),O&&C?(0,l.jsx)("div",{className:"grid place-items-center grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 2xl:grid-cols-4 gap-4 mx-auto",children:Array.from({length:12}).map((e,t)=>(0,l.jsx)("div",{className:"flex items-center w-11/12",children:(0,l.jsx)(n.A,{className:"w-full h-full"})},t))}):g>0?(0,l.jsxs)("div",{children:[(0,l.jsxs)("h2",{className:"text-3xl font-bold text-center m-5",children:["My Uploaded Images (",g,")"]}),(0,l.jsx)("div",{className:"columns-1 min-[420px]:columns-2 md:columns-3 lg:columns-4 gap-4 space-y-4",children:null==(e=f[m-1])?void 0:e.map(e=>{var t,r;return(0,l.jsxs)("div",{className:"break-inside-avoid overflow-hidden rounded-lg even:bg-(--waveB) dark:even:bg-(--headerB) odd:bg-[#4e4e4e29] border-2 border-dotted border-(--linkC)",children:[(0,l.jsx)("img",{src:"".concat(y,"/").concat(e.alias,".").concat(e.extension),alt:"Uploaded Image ".concat(e.alias),loading:"lazy",className:"w-full h-auto"}),(0,l.jsxs)("div",{className:"flex w-full gap-3 items-center p-1 border-y-2 border-dotted border-(--linkC)",children:[(0,l.jsx)(o.e2,{value:"".concat(b,"/").concat(e.alias)}),(0,l.jsx)(s.K,{onClick:()=>R(e),className:"m-0 p-0",children:(0,l.jsxs)("svg",{viewBox:"0 0 64 64",children:[(0,l.jsx)("path",{d:"M53 20H11a1 1 0 0 1-1-1v-2a5 5 0 0 1 5-5h34a5 5 0 0 1 5 5v2a1 1 0 0 1-1 1Zm-41-2h40v-1a3 3 0 0 0-3-3H15a3 3 0 0 0-3 3Z"}),(0,l.jsx)("path",{d:"M40 14H24a1 1 0 0 1-1-1v-1a5 5 0 0 1 5-5h8a5 5 0 0 1 5 5v1a1 1 0 0 1-1 1Zm-15-2h14a3 3 0 0 0-3-3h-8a3 3 0 0 0-3 3Zm14 38h-.2a1 1 0 0 1-.8-1.2L41 31a1 1 0 1 1 2 .3l-3 17.9a1 1 0 0 1-1 .8Zm-14 0a1 1 0 0 1-1-.8l-3-18a1 1 0 1 1 2-.2l3 17.9a1 1 0 0 1-.8 1.1Z",className:"svgC"}),(0,l.jsx)("path",{d:"M41.6 57H22.4a5 5 0 0 1-5-4.2L13 24.2a1 1 0 0 1 1-1.2h36a1 1 0 0 1 1 1.1l-4.5 28.7a5 5 0 0 1-5 4.2ZM15.2 25l4.3 27.5a3 3 0 0 0 3 2.5h19a3 3 0 0 0 3-2.5L48.9 25Z"}),(0,l.jsx)("path",{d:"M32 50a1 1 0 0 1-1-1V31a1 1 0 0 1 2 0v18a1 1 0 0 1-1 1Z",className:"svgC"})]})})]}),(0,l.jsxs)("div",{className:"flex justify-center py-2",children:[(0,l.jsx)("div",{className:"pl-2",children:"Ads: "}),(0,l.jsx)("div",{className:"flex w-full justify-around items-center px-1",children:((null==a||null==(t=a.user)?void 0:t.role)==="admin"||(null==a||null==(r=a.user)?void 0:r.role)==="owner"?["None","Low","Mid","High"]:["Off","On"]).map((t,a)=>(0,l.jsxs)("button",{disabled:N||e.adsLabel===a,className:"cursor-pointer flex items-center gap-2",onClick:()=>M(e.alias,a),children:[(0,l.jsx)("span",{className:"w-4 h-4 rounded-full mr-[6px] border-[3.5px] border-(--waveB) outline outline-(--linkC) ".concat(e.adsLabel===a?"bg-(--linkC)":"bg-(--waveB)"," ").concat(N?"opacity-70":"")}),(0,l.jsx)("span",{children:t})]},"".concat(e.alias,"-").concat(a)))})]})]},e.alias)})})]}):(0,l.jsxs)("div",{className:"text-center my-10",children:[(0,l.jsx)("p",{className:"text-2xl font-bold",children:"Nothing to display."}),(0,l.jsx)(s.$,{href:"/image-uploading",svg:(0,l.jsxs)("svg",{stroke:"currentColor",fill:"currentColor",strokeWidth:"0",viewBox:"0 0 512 512",children:[(0,l.jsx)("path",{fill:"none",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"32",d:"M320 367.79h76c55 0 100-29.21 100-83.6s-53-81.47-96-83.6c-8.89-85.06-71-136.8-144-136.8-69 0-113.44 45.79-128 91.2-60 5.7-112 43.88-112 106.4s54 106.4 120 106.4h56"}),(0,l.jsx)("path",{fill:"none",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"32",d:"m320 255.79-64-64-64 64m64 192.42V207.79"})]}),children:"Upload Now"})]}),(0,l.jsxs)("div",{className:"flex w-full gap-2 *:flex *:justify-center *:items-center *:bg-(--linkC) *:text-white *:w-full *:py-2 my-4",children:[1!=m&&(0,l.jsxs)("button",{className:"rounded-l-lg hover:scale-105 transition-all duration-300",onClick:()=>x(e=>--e),children:[(0,l.jsx)("svg",{stroke:"currentColor",fill:"currentColor",strokeWidth:"0",viewBox:"0 0 24 24",children:(0,l.jsx)("polyline",{fill:"none",strokeWidth:"2",points:"9 6 15 12 9 18",transform:"matrix(-1 0 0 1 24 0)"})}),"Previous"]}),(null==(t=f[0])?void 0:t.length)*m<g&&(0,l.jsxs)("button",{className:"hover:scale-105 transition-all duration-300 ".concat(1==m?"rounded-lg":"rounded-r-lg"),onClick:()=>x(e=>++e),children:["Next",(0,l.jsx)("svg",{stroke:"currentColor",fill:"currentColor",strokeWidth:"0",viewBox:"0 0 24 24",children:(0,l.jsx)("polyline",{fill:"none",strokeWidth:"2",points:"9 6 15 12 9 18"})})]})]}),S&&I&&(0,l.jsxs)(r.PopUpBox,{className:"pb-3",header:"Are you sure you want to delete?",svg:(0,l.jsxs)("svg",{viewBox:"0 0 64 64",children:[(0,l.jsx)("path",{d:"M53 20H11a1 1 0 0 1-1-1v-2a5 5 0 0 1 5-5h34a5 5 0 0 1 5 5v2a1 1 0 0 1-1 1Zm-41-2h40v-1a3 3 0 0 0-3-3H15a3 3 0 0 0-3 3Z"}),(0,l.jsx)("path",{d:"M40 14H24a1 1 0 0 1-1-1v-1a5 5 0 0 1 5-5h8a5 5 0 0 1 5 5v1a1 1 0 0 1-1 1Zm-15-2h14a3 3 0 0 0-3-3h-8a3 3 0 0 0-3 3Zm14 38h-.2a1 1 0 0 1-.8-1.2L41 31a1 1 0 1 1 2 .3l-3 17.9a1 1 0 0 1-1 .8Zm-14 0a1 1 0 0 1-1-.8l-3-18a1 1 0 1 1 2-.2l3 17.9a1 1 0 0 1-.8 1.1Z",className:"svgC"}),(0,l.jsx)("path",{d:"M41.6 57H22.4a5 5 0 0 1-5-4.2L13 24.2a1 1 0 0 1 1-1.2h36a1 1 0 0 1 1 1.1l-4.5 28.7a5 5 0 0 1-5 4.2ZM15.2 25l4.3 27.5a3 3 0 0 0 3 2.5h19a3 3 0 0 0 3-2.5L48.9 25Z"}),(0,l.jsx)("path",{d:"M32 50a1 1 0 0 1-1-1V31a1 1 0 0 1 2 0v18a1 1 0 0 1-1 1Z",className:"svgC"})]}),children:[(0,l.jsx)("div",{className:"relative h-[25vh] w-full overflow-hidden",children:(0,l.jsx)(c.default,{src:"".concat(y,"/").concat(I.alias,".").concat(I.extension),alt:"Uploaded Image ".concat(I.alias),fill:!0,unoptimized:!0,className:"object-contain"})}),(0,l.jsx)("p",{className:"text-center text-sm text-(--linkC) my-2",children:"".concat(b,"/").concat(I.alias)}),(0,l.jsxs)("div",{className:"flex justify-end items-center text-white font-bold *:px-4 *:py-2 *:rounded-full *:transition-all *:duration-300",children:[(0,l.jsx)(s.$,{className:"bg-red-600",onClick:_,disabled:H,loading:H,loadingText:"Deleting...",svg:(0,l.jsx)("svg",{fill:"currentColor",stroke:"currentColor",strokeWidth:"0",viewBox:"0 0 1024 1024",children:(0,l.jsx)("path",{stroke:"none",d:"M360 184h-8c4 0 8-4 8-8v8h304v-8c0 4 4 8 8 8h-8v72h72v-80c0-35-29-64-64-64H352c-35 0-64 29-64 64v80h72v-72zm504 72H160c-18 0-32 14-32 32v32c0 4 4 8 8 8h60l25 523c2 34 30 61 64 61h454c34 0 62-27 64-61l25-523h60c4 0 8-4 8-8v-32c0-18-14-32-32-32zM731 840H293l-25-512h488l-25 512z"})}),children:"Delete"}),(0,l.jsx)(s.$,{className:"bg-(--linkC) hover:scale-105 mx-3",onClick:U,disabled:H,children:"Cancel"})]})]})]})}}},e=>{var t=t=>e(e.s=t);e.O(0,[535,6912,5026,9361,3341,90,3449,2681,7358],()=>t(7938)),_N_E=e.O()}]);