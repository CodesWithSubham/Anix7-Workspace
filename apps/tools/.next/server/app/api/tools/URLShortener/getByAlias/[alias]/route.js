(()=>{var e={};e.id=298,e.ids=[298],e.modules={3295:e=>{"use strict";e.exports=require("next/dist/server/app-render/after-task-async-storage.external.js")},6511:(e,r,t)=>{"use strict";t.d(r,{A:()=>n});var o=t(56037);let s=new o.Schema({alias:{type:String,required:!0,minlength:6,maxlength:6,unique:!0},longUrl:{type:String,required:!0},uploadedBy:{type:Number,required:!0,ref:"User"},adsLabel:{type:Number,enum:[0,1,2,3],default:1},expiredAt:{type:Date,default:null}},{timestamps:!0}),n=o.models?.ShortUrl||(0,o.model)("ShortUrl",s)},9913:(e,r,t)=>{"use strict";t.d(r,{A:()=>l});var o=t(56037);let s=process.env.MONGODB_URI,n=process.env.MONGODB_NAME;if(!s)throw Error("❌ MONGODB_URI is not defined in environment variables.");let a=global.mongoose||{conn:null,promise:null},i=async()=>(a.conn||(a.promise||(console.log("\uD83D\uDD04 Connecting to MongoDB..."),a.promise=o.connect(s,{dbName:n,maxPoolSize:10,serverSelectionTimeoutMS:8e3,socketTimeoutMS:45e3,retryWrites:!0,waitQueueTimeoutMS:5e3,bufferCommands:!1}).then(e=>(console.log("✅ Connected to MongoDB!"),e)).catch(e=>{throw console.error("❌ MongoDB Connection Error:",e),Error("MongoDB connection failed.")})),a.conn=await a.promise),a.conn);global.mongoose=a;let l=i},10846:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},15946:()=>{},29294:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-async-storage.external.js")},44870:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-route.runtime.prod.js")},50809:(e,r,t)=>{"use strict";t.r(r),t.d(r,{patchFetch:()=>x,routeModule:()=>d,serverHooks:()=>g,workAsyncStorage:()=>c,workUnitAsyncStorage:()=>m});var o={};t.r(o),t.d(o,{GET:()=>p});var s=t(53358),n=t(24967),a=t(47614),i=t(8527),l=t(9913),u=t(6511);async function p(e,{params:r}){let{alias:t}=await r;await (0,l.A)();let o=await u.A.findOne({alias:t}).lean();return o?i.NextResponse.json({longUrl:o.longUrl,adsLabel:o.adsLabel}):i.NextResponse.json({error:"Not Found"},{status:404})}let d=new s.AppRouteRouteModule({definition:{kind:n.RouteKind.APP_ROUTE,page:"/api/tools/URLShortener/getByAlias/[alias]/route",pathname:"/api/tools/URLShortener/getByAlias/[alias]",filename:"route",bundlePath:"app/api/tools/URLShortener/getByAlias/[alias]/route"},resolvedPagePath:"C:\\Users\\subha\\Projects\\Anix7 Workspace\\apps\\tools\\app\\api\\tools\\URLShortener\\getByAlias\\[alias]\\route.js",nextConfigOutput:"",userland:o}),{workAsyncStorage:c,workUnitAsyncStorage:m,serverHooks:g}=d;function x(){return(0,a.patchFetch)({workAsyncStorage:c,workUnitAsyncStorage:m})}},55698:()=>{},56037:e=>{"use strict";e.exports=require("mongoose")},63033:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-unit-async-storage.external.js")}};var r=require("../../../../../../webpack-runtime.js");r.C(e);var t=e=>r(r.s=e),o=r.X(0,[7614,3532],()=>t(50809));module.exports=o})();