(()=>{var e={};e.id=3226,e.ids=[3226],e.modules={3295:e=>{"use strict";e.exports=require("next/dist/server/app-render/after-task-async-storage.external.js")},10846:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},15946:()=>{},16289:(e,t,r)=>{"use strict";r.d(t,{A:()=>n});var s=r(71528),a=r(781);let n=async(e,t,r)=>{if(t instanceof Uint8Array){if(!e.startsWith("HS"))throw TypeError((0,a.A)(t,"CryptoKey","KeyObject","JSON Web Key"));return crypto.subtle.importKey("raw",t,{hash:`SHA-${e.slice(-3)}`,name:"HMAC"},!1,[r])}return(0,s.Y)(t,e,r),t}},29294:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-async-storage.external.js")},44870:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-route.runtime.prod.js")},49845:(e,t,r)=>{"use strict";r.r(t),r.d(t,{patchFetch:()=>R,routeModule:()=>x,serverHooks:()=>E,workAsyncStorage:()=>P,workUnitAsyncStorage:()=>v});var s={};r.r(s),r.d(s,{POST:()=>j});var a=r(53358),n=r(24967),o=r(47614),i=r(8527),d=r(32056),c=r(83243),p=r(12388),u=r(16289);let h=async(e,t,r)=>{let s=await (0,u.A)(e,t,"sign");return(0,p.A)(e,s),new Uint8Array(await crypto.subtle.sign((0,c.A)(e,s.algorithm),s,r))};var l=r(68200),w=r(19967),y=r(70745),H=r(6580),m=r(26474),g=r(25994);class S{#e;#t;#r;constructor(e){if(!(e instanceof Uint8Array))throw TypeError("payload must be an instance of Uint8Array");this.#e=e}setProtectedHeader(e){if(this.#t)throw TypeError("setProtectedHeader can only be called once");return this.#t=e,this}setUnprotectedHeader(e){if(this.#r)throw TypeError("setUnprotectedHeader can only be called once");return this.#r=e,this}async sign(e,t){let r;if(!this.#t&&!this.#r)throw new w.Ye("either setProtectedHeader or setUnprotectedHeader must be called before #sign()");if(!(0,l.A)(this.#t,this.#r))throw new w.Ye("JWS Protected and JWS Unprotected Header Parameter names must be disjoint");let s={...this.#t,...this.#r},a=(0,m.A)(w.Ye,new Map([["b64",!0]]),t?.crit,this.#t,s),n=!0;if(a.has("b64")&&"boolean"!=typeof(n=this.#t.b64))throw new w.Ye('The "b64" (base64url-encode payload) Header Parameter must be a boolean');let{alg:o}=s;if("string"!=typeof o||!o)throw new w.Ye('JWS "alg" (Algorithm) Header Parameter missing or invalid');(0,H.A)(o,e,"sign");let i=this.#e;n&&(i=y.Rd.encode((0,d.l)(i))),r=this.#t?y.Rd.encode((0,d.l)(JSON.stringify(this.#t))):y.Rd.encode("");let c=(0,y.xW)(r,y.Rd.encode("."),i),p=await (0,g.A)(e,o),u=await h(o,p,c),S={signature:(0,d.l)(u),payload:""};return n&&(S.payload=y.D0.decode(i)),this.#r&&(S.header=this.#r),this.#t&&(S.protected=y.D0.decode(r)),S}}class f{#s;constructor(e){this.#s=new S(e)}setProtectedHeader(e){return this.#s.setProtectedHeader(e),this}async sign(e,t){let r=await this.#s.sign(e,t);if(void 0===r.payload)throw TypeError("use the flattened module for creating JWS with b64: false");return`${r.protected}.${r.payload}.${r.signature}`}}var A=r(76415);class b{#t;#a;constructor(e={}){this.#a=new A.c(e)}setIssuer(e){return this.#a.iss=e,this}setSubject(e){return this.#a.sub=e,this}setAudience(e){return this.#a.aud=e,this}setJti(e){return this.#a.jti=e,this}setNotBefore(e){return this.#a.nbf=e,this}setExpirationTime(e){return this.#a.exp=e,this}setIssuedAt(e){return this.#a.iat=e,this}setProtectedHeader(e){return this.#t=e,this}async sign(e,t){let r=new f(this.#a.data());if(r.setProtectedHeader(this.#t),Array.isArray(this.#t?.crit)&&this.#t.crit.includes("b64")&&!1===this.#t.b64)throw new w.Dp("JWTs MUST NOT use unencoded payload");return r.sign(e,t)}}async function j(e){try{let{password:t}=await e.json(),r=process.env.ADMIN_PASSWORD;if(console.log(t,r),t!==r)return i.NextResponse.json({message:"Incorrect password"},{status:401});let s=new TextEncoder().encode(process.env.JWT_SECRET),a=await new b({role:"admin"}).setProtectedHeader({alg:"HS256"}).setIssuedAt().setExpirationTime("3h").sign(s),n=i.NextResponse.json({message:"Verified successfully"});return n.cookies.set("adminToken",a,{httpOnly:!0,secure:!0,sameSite:"strict",maxAge:10800}),n}catch(e){return console.error(e),i.NextResponse.json({message:"Something went wrong"},{status:500})}}let x=new a.AppRouteRouteModule({definition:{kind:n.RouteKind.APP_ROUTE,page:"/api/adminLogin/route",pathname:"/api/adminLogin",filename:"route",bundlePath:"app/api/adminLogin/route"},resolvedPagePath:"C:\\Users\\subha\\Projects\\Anix7 Workspace\\apps\\tools\\app\\api\\adminLogin\\route.js",nextConfigOutput:"",userland:s}),{workAsyncStorage:P,workUnitAsyncStorage:v,serverHooks:E}=x;function R(){return(0,o.patchFetch)({workAsyncStorage:P,workUnitAsyncStorage:v})}},55698:()=>{},63033:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-unit-async-storage.external.js")},83243:(e,t,r)=>{"use strict";r.d(t,{A:()=>a});var s=r(19967);let a=(e,t)=>{let r=`SHA-${e.slice(-3)}`;switch(e){case"HS256":case"HS384":case"HS512":return{hash:r,name:"HMAC"};case"PS256":case"PS384":case"PS512":return{hash:r,name:"RSA-PSS",saltLength:parseInt(e.slice(-3),10)>>3};case"RS256":case"RS384":case"RS512":return{hash:r,name:"RSASSA-PKCS1-v1_5"};case"ES256":case"ES384":case"ES512":return{hash:r,name:"ECDSA",namedCurve:t.namedCurve};case"Ed25519":case"EdDSA":return{name:"Ed25519"};default:throw new s.T0(`alg ${e} is not supported either by JOSE or your javascript runtime`)}}}};var t=require("../../../webpack-runtime.js");t.C(e);var r=e=>t(t.s=e),s=t.X(0,[7614,3532,7929],()=>r(49845));module.exports=s})();