(()=>{var e={};e.id=178,e.ids=[178],e.modules={3295:e=>{"use strict";e.exports=require("next/dist/server/app-render/after-task-async-storage.external.js")},9913:(e,r,t)=>{"use strict";t.d(r,{A:()=>u});var s=t(56037);let o=process.env.MONGODB_URI,n=process.env.MONGODB_NAME;if(!o)throw Error("❌ MONGODB_URI is not defined in environment variables.");let i=global.mongoose||{conn:null,promise:null},a=async()=>(i.conn||(i.promise||(console.log("\uD83D\uDD04 Connecting to MongoDB..."),i.promise=s.connect(o,{dbName:n,maxPoolSize:10,serverSelectionTimeoutMS:8e3,socketTimeoutMS:45e3,retryWrites:!0,waitQueueTimeoutMS:5e3,bufferCommands:!1}).then(e=>(console.log("✅ Connected to MongoDB!"),e)).catch(e=>{throw console.error("❌ MongoDB Connection Error:",e),Error("MongoDB connection failed.")})),i.conn=await i.promise),i.conn);global.mongoose=i;let u=a},10846:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},15946:()=>{},29294:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-async-storage.external.js")},44870:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-route.runtime.prod.js")},54155:(e,r,t)=>{"use strict";t.d(r,{A:()=>n});var s=t(56037);let o=new s.Schema({_id:{type:s.Schema.Types.ObjectId,auto:!0},userId:{type:Number,unique:!0,required:!0},firstName:{type:String,required:!0},lastName:{type:String,default:null},email:{type:String,required:!0,unique:!0,lowercase:!0},password:{type:String,default:null},isVerified:{type:Boolean,default:!1},profilePic:{type:String,default:null},balance:{type:Number,default:0},referredBy:{type:Number,default:null}},{timestamps:!0}),n=s.models?.User||(0,s.model)("User",o)},55698:()=>{},56037:e=>{"use strict";e.exports=require("mongoose")},63033:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-unit-async-storage.external.js")},82545:(e,r,t)=>{"use strict";t.r(r),t.d(r,{patchFetch:()=>y,routeModule:()=>d,serverHooks:()=>f,workAsyncStorage:()=>m,workUnitAsyncStorage:()=>g});var s={};t.r(s),t.d(s,{POST:()=>p});var o=t(53358),n=t(24967),i=t(47614),a=t(9913),u=t(54155),l=t(8527);let c=process.env.AUTH_SECRET;async function p(e){try{let r=e.headers.get("Authorization")?.split(" ")[1];if(!r)return l.NextResponse.json({success:!1,message:"Admin token is required"},{status:403});if(r!==c)return l.NextResponse.json({success:!1,message:"Unauthorized"},{status:403});let t=(await e.json()).email;if(!t)return l.NextResponse.json({success:!1,message:"Missing required user fields"},{status:400});await (0,a.A)();let s=await u.A.findOne({email:t});return l.NextResponse.json({success:!0,message:"User fetched successfully",user:s||!1},{status:201})}catch(e){return console.error(e),l.NextResponse.json({success:!1,message:"Internal server error"},{status:500})}}let d=new o.AppRouteRouteModule({definition:{kind:n.RouteKind.APP_ROUTE,page:"/api/admin/FromAuthjs/getUserByEmail/route",pathname:"/api/admin/FromAuthjs/getUserByEmail",filename:"route",bundlePath:"app/api/admin/FromAuthjs/getUserByEmail/route"},resolvedPagePath:"C:\\Users\\subha\\Projects\\Anix7 Workspace\\apps\\tools\\app\\api\\admin\\FromAuthjs\\getUserByEmail\\route.js",nextConfigOutput:"",userland:s}),{workAsyncStorage:m,workUnitAsyncStorage:g,serverHooks:f}=d;function y(){return(0,i.patchFetch)({workAsyncStorage:m,workUnitAsyncStorage:g})}}};var r=require("../../../../../webpack-runtime.js");r.C(e);var t=e=>r(r.s=e),s=r.X(0,[7614,3532],()=>t(82545));module.exports=s})();